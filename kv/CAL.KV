#:kivy 1.11.1
#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import Factory kivy.factory.Factory

    
<MenuWindow>:
    name: "function"

    FloatLayout:
        cols:2
        Image: 
            source:"pic/Ultra-g.png"
            pos_hint:{"x":-0.7, "y":-0.1}
            size_hint: 1.9,1.3
         
        FloatLayout:
            size: root.width, root.height/2
        
        

            Button:
                text:"Book Parking"
                background_color:(1.0,0.0,0.0)
                font_size: 25
                font_name:"Antonio"    
                pos_hint:{"x":0.5,"y":0.7}
                color: 197, 143, 114, 1
                size_hint: 0.4,0.2
                on_release:
                    root.manager.transition.direction = "left"
                    root.ParkFunctionBtn()                  

            Button:
                text: "MC/S"
                background_color:1.0,0.0,0.0
                font_size: 25
                font_name:"Antonio"    
                pos_hint: {"x":0.5, "top":.3}
                color:197, 143, 114, 1
                size_hint: 0.4,0.2
                on_release:
                    root.manager.transition.direction = "left"
                    root.MCFunctionBtn() 
                   
            Button:
                text:"Hospital Appointment "
                background_color:1.0,0.0,0.0
                font_size:25
                font_name:"Antonio"    
                pos_hint:{"x":0.5,"y":0.4}
                size_hint: 0.4,0.2
                color: 197, 143, 114, 1
                on_release:
                    root.manager.transition.direction = "left"
                    root.CalFunctionBtn()


                   
            Button:
                background_normal:'pic/help.png'
                background_down:'pic/help.png'
                background_color:1.0,0.0,0.0
                border: (2, 2, 2, 2)
                pos_hint:{"x":0.0,"y":0.92}
                size_hint: 0.05,0.07
                on_release:
                    root.manager.transition.direction = "right"
                    root.helpBtnFun()
            
            
            Button:
                background_normal:'pic/back.jpg'
                background_down:'pic/back.jpg'
                background_color:1.0,0.0,0.0
                border: (2, 2, 2, 2)
                pos_hint:{"x":0.0,"y":0.0}
                size_hint: 0.07,0.09
        
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"         

<CalMenuWindow>:
    name: "cal"
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, .4

    Button:
        id: Set_Reminder
        background_color: (0.1,0.5,0.6,1)
        text: "Set Reminder"
        font_name:"Antonio"    
        on_release: root.setDate()
        size_hint: .6, .11
        pos_hint:{"x":0.2,"y":0.8}

    Button:
        id: Voice_Reminder
        background_color: (0.1,0.5,0.6,1)
        text: "Voice Reminder"
        font_name:"Antonio"    
        on_release:
        size_hint: .6, .11
        pos_hint:{"x":0.2,"y":0.65}    
        on_release:
            root.speech()
    Button:
        id: Set_location
        background_color: (0.1,0.5,0.6,1)
        text: "Map"
        font_name:"Antonio"    
        size_hint: .6, .11
        pos_hint:{"x":0.2,"y":0.5}
        on_release: 
            root.setLocation()
        
        
    
        
        
    Button:			
	    id: save-button
	    text: "Save / Exit"
	    font_size: 15
        font_name:"Antonio"    
	    size_hint: 0.6,0.1
        pos_hint:{"x":0.2,"y":0.12}
	    width:root.width/2
	    height:60
	    on_release: app.root.current = "function"

    Button:
        background_normal:'pic/back.jpg'
        background_down:'pic/back.jpg'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.0,"y":0.0}
        size_hint: 0.07,0.09
        on_release:
            app.root.current = "function"
            root.manager.transition.direction = "right"   
    Button:
        background_normal:'pic/help.png'
        background_down:'pic/help.png'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.0,"y":0.92}
        size_hint: 0.05,0.07
        on_release:
            root.manager.transition.direction = "right"
            root.helpBtnCal()           


<Parking2MenuWindow>:
    name:"park2"

    FloatLayout:
        
    Image:
        source:"pic/parking-2.jpg" 
        pos_hint:{"x":0.01,"y":0.1} 

    
    Button:
        background_color: 1, 0, 0  # Tints the button red
        background_normal: 'pic/WCS1.jpg'  # A clear image gives a bright red. 
        background_down: 'pic/WCSS1.jpg'  # A gray image gives a duller red.
        border: (2, 2, 2, 2)  # Don't stretch the outer two pixels on each edge when resizing.
        pos_hint:{"x":0.72,"y":0.0}
        size_hint: 0.25,0.2     
        text: "B2:A1:P2"
        font_name:"Lato"
        on_release:
            app.root.current = "book"
            root.manager.transition.direction = "down"
    Button:
        background_color: 1, 0, 0  # Tints the button red
        background_normal: 'pic/WCS2.jpg'  # A clear image gives a bright red. 
        background_down: 'pic/WCS2.jpg'  # A gray image gives a duller red.
        border: (2, 4, 4, 2)  # Don't stretch the outer two pixels on each edge when resizing.
        pos_hint:{"x":0.45,"y":0.0}
        size_hint: 0.25,0.2     
        text: "B2:A2:P2"
        font_name:"Lato"
        on_release:
            app.root.current = "book_2"
            root.manager.transition.direction = "down"

            
    Button:
        background_color: 1, 0, 0  # Tints the button red
        background_normal: 'pic/WCS3.jpg'  # A clear image gives a bright red. 
        background_down: 'pic/WCS3.jpg'  # A gray image gives a duller red.
        border: (2, 2, 2, 2)  # Don't stretch the outer two pixels on each edge when resizing.
        pos_hint:{"x":0.18,"y":0.0}
        size_hint: 0.25,0.2     
        text: "B2:A2:P3"
        font_name:"Lato"
        on_release:
            app.root.current = "book_3"
            root.manager.transition.direction = "down"   



    Button:
        background_normal:'pic/back.jpg'
        background_down:'pic/back.jpg'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.0,"y":0.0}
        size_hint: 0.07,0.09
        
        on_release:
            app.root.current = "view"
            root.manager.transition.direction = "right" 
          


<Parking1MenuWindow>:
    name:"park"

    FloatLayout:
        
    Image:
        source:"pic/parking.PNG" 
        pos_hint:{"x":0.01,"y":0.1} 

    
    Button:
        background_color: 1, 0, 0  # Tints the button red
        background_normal: 'pic/parking.jpg'  # A clear image gives a bright red. 
        background_down: 'pic/parking.jpg'  # A gray image gives a duller red.
        border: (2, 2, 2, 2)  # Don't stretch the outer two pixels on each edge when resizing.
        pos_hint:{"x":0.72,"y":0.0}
        size_hint: 0.25,0.2     
        text: "B1:A1:P2"
        font_name:'Lato'
        on_release:
            app.root.current = "book_4"
            root.manager.transition.direction = "down"
    Button:
        background_color: 1, 0, 0  # Tints the button red
        background_normal: 'pic/wheelchairspot2.jpg'  # A clear image gives a bright red. 
        background_down: 'pic/wheelchairspot2.jpg'  # A gray image gives a duller red.
        border: (2, 4, 4, 2)  # Don't stretch the outer two pixels on each edge when resizing.
        pos_hint:{"x":0.45,"y":0.0}
        size_hint: 0.25,0.2     
        text:"B1:A2:P2"
        font_name:"Lato"
        on_release:
            app.root.current = "book_5"
            root.manager.transition.direction = "down"

            
    Button:
        background_color: 1, 0, 0  # Tints the button red
        background_normal: 'pic/wheelchairspot3.jpg'  # A clear image gives a bright red. 
        background_down: 'pic/wheelchairspot3.jpg'  # A gray image gives a duller red.
        border: (2, 2, 2, 2)  # Don't stretch the outer two pixels on each edge when resizing.
        pos_hint:{"x":0.18,"y":0.0}
        size_hint: 0.25,0.2     
        text: "B1:A2:P3"
        font_name:"Lato"
        on_release:
            app.root.current = "book_6"
            root.manager.transition.direction = "down"   



    Button:
        background_normal:'pic/back.jpg'
        background_down:'pic/back.jpg'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.0,"y":0.0}
        size_hint: 0.07,0.09
        
        on_release:
            app.root.current = "view"
            root.manager.transition.direction = "right" 
   



   


<ParkingViewWindow>:
    name:"view"

    FloatLayout:

    Button:
        background_normal:'pic/building1.jpg'
        background_down:'pic/building1.jpg'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        size_hint: 0.48,0.9
        pos_hint:{"x":0.01,"y":0.1}
        on_release:
            app.root.current = "park"
            root.manager.transition.direction = "down" 

    Button:
        background_normal:'pic/building2.jpg'
        background_down:'pic/building2.jpg'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        size_hint: 0.48,0.9
        pos_hint:{"x":0.51,"y":0.1}
        on_release:
            app.root.current = "park2"
            root.manager.transition.direction = "down" 
    Button:
        background_normal:'pic/back.jpg'
        background_down:'pic/back.jpg'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.0,"y":0.0}
        size_hint: 0.07,0.09
        
        on_release:
            app.root.current = "function"
            root.manager.transition.direction = "right"  


  
    

  
    
 
<MCMenuWindow>:
    name:"MC"
    
     
     
        
    GridLayout:
        cols: 1
        size: root.width * 1, root.height * 1
        row_default_height:50
        row_force_default: True
        center: root.width / 2, root.height / 2
        pos_hint :{"x":0.0,"y":0.0}

        Label:
            id:type
            color:197, 143, 114, 1
            text:"MC/Type"
            font_size:15
            font_name:"Antonio"       
        TextInput:
            size_hint:0.4 , 0.25
            pos_hint :{"x":0.0,"y":0.5}
            id: mctype
            font_name:"Antonio"    
            multiline: False
            focus: True
            on_text_validate: Image_Input.focus=True
            padding_x:
                [self.center[0] - self._get_text_width(max(self._lines, key=len), self.tab_width, self._label_cached) / 2.0,
                0] if self.text else [self.center[0], 0]
            # top, bottom
            padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
       
        Label:
            id:Exp_MC
            color:197, 143, 114, 1
            text:"Exp Date"
            font_size:15
            font_name:"Antonio"        
        TextInput:
            size_hint:0.4, 0.25
            pos_hint :{"x":0.0,"y":0.9}
            id: Exp
            font_name:"Antonio"    
            multiline: False
            focus: True
            on_text_validate: Image_Input.focus=True
            padding_x:
                [self.center[0] - self._get_text_width(max(self._lines, key=len), self.tab_width, self._label_cached) / 2.0,
                0] if self.text else [self.center[0], 0]
            # top, bottom
            padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
        Label:
            id:mcdc
            color:197, 143, 114, 1
            text:" MC Description"
            font_size:15
            font_name:"Antonio"    

        TextInput:
            size_hint:7 ,  0.25
            pos_hint :{"x":0.0,"y":0.9}
            id: MCD
            font_name:"Antonio"    
            multiline: False
            focus: True
            on_text_validate: Image_Input.focus=True
            padding_x:
                [self.center[0] - self._get_text_width(max(self._lines, key=len), self.tab_width, self._label_cached) / 2.0,
                0] if self.text else [self.center[0], 0]
            # top, bottom
            padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]

        Label:
            id:mcdn
            color:197, 143, 114, 1
            text:"Doctor Name / Optional" 
            font_size:15
            font_name:"Antonio"       
        TextInput:
            size_hint:7 ,  0.25
            pos_hint :{"x":0.0,"y":0.11}
            id: dname
            font_name:"Antonio"    
            multiline: False
            focus: True
            on_text_validate: Image_Input.focus=True
            padding_x:
                [self.center[0] - self._get_text_width(max(self._lines, key=len), self.tab_width, self._label_cached) / 2.0,
                0] if self.text else [self.center[0], 0]
            # top, bottom
            padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
        Button:
            background_color:1.0,0.0,0.0
            border: (2, 2, 2, 2)
            size_hint:7,  0.25
            pos_hint :{"x":0.0,"y":0.11}
            text:"OK"
            font_size:15
            font_name:"Antonio"    
            color:0.1,0.5,0.6,1
            on_press:  root.MCRegister() 
            
            
            
             
    Button:
        background_color: 1, 0, 0  # Tints the button red
        background_normal: 'pic/Cal.png'  # A clear image gives a bright red. 
        background_down: 'pic/Cal.png'  # A gray image gives a duller red.
        border: (2, 2, 2, 2) 
        id: Set Reminder
        backgound_color: (0.1,0.5,0.6,1)
        on_release: root.setDateMC()
        size_hint: 0.1, 0.13
        pos_hint:{"x":0.8,"y":0.0}

    Button:
        background_normal:'pic/back.jpg'
        background_down:'pic/back.jpg'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.0,"y":0.0}
        size_hint: 0.07,0.09
        on_release:
            app.root.current = "function"
            root.manager.transition.direction = "right"     

    Button:
        background_normal:'pic/help.png'
        background_down:'pic/help.png'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.0,"y":0.92}
        size_hint: 0.05,0.07
        on_release:
            root.manager.transition.direction = "right"
            root.helpBtnMC()        
    Button:
        background_normal:'pic/Note .png'
        background_down:'pic/Note .png'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.6,"y":0.0}
        size_hint: 0.1,0.13
        on_release:
            root.manager.transition.direction = "down"
            root.popNote()
    
    
    Button:
        background_normal:'pic/back.jpg'
        background_down:'pic/back.jpg'
        background_color:1.0,0.0,0.0
        border: (2, 2, 2, 2)
        pos_hint:{"x":0.0,"y":0.0}
        size_hint: 0.07,0.09
        on_release:
            app.root.current = "function"
            root.manager.transition.direction = "right"         

#:import hex kivy.utils.get_color_from_hex
<popMC>:

   
    title: 'InputDialog'
    auto_dismiss: False
    id: test1

    RelativeLayout:
        orientation: 'vertical'
        pos: self.pos
        size: root.size
        id: test2

        TextInput:
            id:note
            text:''
            font_name:'Antonio'
            pos_hint: {'center_x': 1.05, 'center_y': 1.6}
            size_hint: 0.95, 0.6
            
        Button:
            text: "O.K"
            size_hint: .7, .19
            pos_hint: {"x":0.69, "y":1.0}
            on_press:
                root.Note()




       



          
    
    
    
